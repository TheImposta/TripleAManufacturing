<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin - Triple A</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header class="navbar">
      <div class="nav-inner">
        <a class="logo" href="index.html">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden>
            <rect width="24" height="24" rx="4" fill="#0071e3"></rect>
            <path d="M6 15h12v-2H6v2zm0-4h12V9H6v2z" fill="#fff"></path>
          </svg>
          <span class="logo-text">TRIPLE A</span>
        </a>

        <nav>
          <a href="index.html">Home</a>
          <a href="products.html">Products</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
          <a href="auth.html" id="auth-link">Sign In</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <!-- LOGIN SECTION -->
      <section id="login-section" style="max-width:520px; margin:auto; text-align:left;">
        <h1>Admin Access</h1>
        <p>Please sign in with administrator credentials.</p>

        <div style="margin-top:20px;">
          <label style="display:block; margin-bottom:6px; font-weight:600;">Email</label>
          <input id="email" type="email" placeholder="admin@example.com" style="width:100%; padding:12px 16px; border-radius:12px; border:1px solid #d2d2d7; font-size:16px;" />
        </div>

        <div style="margin-top:12px;">
          <label style="display:block; margin-bottom:6px; font-weight:600;">Password</label>
          <input id="password" type="password" placeholder="Password" style="width:100%; padding:12px 16px; border-radius:12px; border:1px solid #d2d2d7; font-size:16px;" />
        </div>

        <p id="auth-error" style="color:#ff3b30; margin-top:12px;"></p>

        <div style="margin-top:20px;">
          <button id="loginBtn">Sign In</button>
        </div>
      </section>

      <!-- ADMIN DASHBOARD -->
      <section id="admin-section" style="display:none; max-width:1200px; margin:40px auto 120px;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <div>
            <h1>Admin Dashboard</h1>
            <p>Inventory &amp; Order Management</p>
          </div>
          <div style="display:flex; gap:12px; align-items:center;">
            <div id="new-orders-badge" style="display:none; background:#ff3b30; color:#fff; padding:6px 10px; border-radius:999px; font-weight:700;"></div>
            <button id="mark-notified-btn" style="display:none;">Mark orders notified</button>
            <button id="logoutBtn">Sign Out</button>
          </div>
        </div>

        <hr style="margin:24px 0; border:none; border-top:1px solid rgba(0,0,0,0.06);" />

        <section style="display:grid; grid-template-columns: 1fr 1fr; gap:32px;">
          <div>
            <h2>Add New Product</h2>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Name</label>
              <input id="p-name" type="text" />
            </div>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Size</label>
              <input id="p-size" type="text" placeholder="e.g. 12x18" />
            </div>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Color</label>
              <input id="p-color" type="text" placeholder="e.g. Clear" />
            </div>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Thickness (microns)</label>
              <input id="p-thickness" type="number" />
            </div>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Price per 1000</label>
              <input id="p-price" type="number" step="0.01" />
            </div>
            <div style="margin-top:12px;">
              <label style="display:block; font-size:14px; font-weight:600;">Initial Quantity (optional)</label>
              <input id="p-quantity" type="number" />
            </div>
            <div style="margin-top:16px;">
              <button id="addProdBtn">Add Product</button>
            </div>
          </div>

          <div>
            <h2>Active Orders</h2>
            <div id="orders-list" style="margin-top:12px; padding:12px; background:var(--gray-light); border-radius:12px;">
              <p>Loading orders...</p>
            </div>
          </div>
        </section>

        <section style="margin-top:40px;">
          <h2>Your Admin Contact</h2>
          <p>Set how customers should contact you when they place orders.</p>
          <div style="display:flex; gap:12px; align-items:center; margin-top:12px;">
            <input id="admin-display-name" placeholder="Display name (e.g. John at Triple A)" />
            <input id="admin-contact-email" placeholder="Contact email" />
            <input id="admin-contact-phone" placeholder="Contact phone" />
            <button id="save-admin-contact">Save</button>
          </div>

          <h2 style="margin-top:32px;">Product Inventory</h2>
          <div id="admin-product-list" style="margin-top:12px; display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap:20px;">
            <p>Loading inventory...</p>
          </div>
        </section>
      </section>
    </main>

    <script type="module" src="js/supabase.js"></script>
    <script type="module" src="js/admin.js"></script>
  </body>
</html>
